#! /usr/bin/env node

const program = require('commander')

const { logger: { print }, pusher, table } = require('../lib/util')

const { from, to } = require('../lib/trans/config')
const langs = require('../lib/trans/langs')

program
  .description('show current translator')
  .option('-a, --all', 'show all translator')
  .parse(process.argv)

if (program.all) {
  const languages = []
  const pushLang = pusher(languages)

  pushLang()

  const t = table(Object.keys(langs).map(lang => {
    let prefix = ''

    if (lang === from) {
      prefix += '=>'
    } else if (lang === to) {
      prefix += '<='
    }

    return [prefix, lang].concat(langs[lang])
  }))

  pushLang(t, 0, 1)

  print(languages)
} else {
  print([`  Current translator is ${from} => ${to}`])
}
